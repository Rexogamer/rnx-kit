"use strict";(self.webpackChunk_rnx_kit_docsite=self.webpackChunk_rnx_kit_docsite||[]).push([[7080],{4651:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var s=t(5893),i=t(1151);const r={},l="Contributing",o={id:"contributing",title:"Contributing",description:"Thank you for your interest in this project! We welcome all contributions and",source:"@site/docs/contributing.md",sourceDirName:".",slug:"/contributing",permalink:"/rnx-kit/docs/contributing",draft:!1,unlisted:!1,editUrl:"https://github.com/microsoft/rnx-kit/tree/main/docsite/docs/contributing.md",tags:[],version:"current",frontMatter:{}},c={},d=[{value:"Contributor License Agreement",id:"contributor-license-agreement",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Optional",id:"optional",level:3},{value:"Build",id:"build",level:2},{value:"Adding a New Package",id:"adding-a-new-package",level:2},{value:"Change Logs",id:"change-logs",level:2},{value:"Releases",id:"releases",level:2},{value:"Style Guide",id:"style-guide",level:2}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"contributing",children:"Contributing"}),"\n",(0,s.jsx)(n.p,{children:"Thank you for your interest in this project! We welcome all contributions and\nsuggestions!"}),"\n",(0,s.jsxs)(n.p,{children:["You can\n",(0,s.jsx)(n.a,{href:"https://github.com/microsoft/rnx-kit/issues/new/choose",children:"open a new issue"})," to\nreport a bug, share an idea, or request a feature. If you're more hands-on, you\ncan ",(0,s.jsx)(n.a,{href:"https://github.com/microsoft/rnx-kit/pulls",children:"submit a pull-request"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["As a contributor, you're expected to follow the\n",(0,s.jsx)(n.a,{href:"https://github.com/microsoft/rnx-kit/blob/main/CODE_OF_CONDUCT.md",children:"code of conduct"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"contributor-license-agreement",children:"Contributor License Agreement"}),"\n",(0,s.jsxs)(n.p,{children:["Most contributions require you to agree to a Contributor License Agreement (CLA)\ndeclaring that you have the right to, and actually do, grant us the rights to\nuse your contribution. For details, visit ",(0,s.jsx)(n.a,{href:"https://cla.opensource.microsoft.com",children:"https://cla.opensource.microsoft.com"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"When you submit a pull request, a CLA bot will automatically determine whether\nyou need to provide a CLA and decorate the PR appropriately (e.g., status check,\ncomment). Simply follow the instructions provided by the bot. You will only need\nto do this once across all repos using our CLA."}),"\n",(0,s.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Node LTS (see ",(0,s.jsx)(n.a,{href:"https://nodejs.org/en/about/releases/",children:"releases"})," for specific\nversions)"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://classic.yarnpkg.com/",children:"Yarn Classic"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"optional",children:"Optional"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Android"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://developer.android.com/studio",children:"Android Studio"})," 4.2 or later","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Android SDK Platform 29"}),"\n",(0,s.jsx)(n.li,{children:"Android SDK Build-Tools 30.0.3"}),"\n",(0,s.jsxs)(n.li,{children:["To install the required SDKs, go into ",(0,s.jsx)(n.strong,{children:"Preferences"})," \u276d ",(0,s.jsx)(n.strong,{children:"Appearance &\nBehavior"})," \u276d ",(0,s.jsx)(n.strong,{children:"System Settings"})," \u276d ",(0,s.jsx)(n.strong,{children:"Android SDK"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"iOS/macOS"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://apps.apple.com/app/xcode/id497799835?mt=12",children:"Xcode"})," 12 or later"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://cocoapods.org/",children:"CocoaPods"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Windows"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Ensure that\n",(0,s.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/windows/uwp/get-started/enable-your-device-for-development",children:"Developer Mode"}),"\nis turned on in Windows Settings app"]}),"\n",(0,s.jsxs)(n.li,{children:["Install development dependencies as described in the\n",(0,s.jsx)(n.a,{href:"https://microsoft.github.io/react-native-windows/docs/rnw-dependencies",children:"React Native for Windows documentation"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"build",children:"Build"}),"\n",(0,s.jsx)(n.p,{children:"We use Yarn to install npm dependencies. From the repo root, run:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"yarn\n"})}),"\n",(0,s.jsx)(n.p,{children:"Once it's done, you can choose to build all packages or just the packages you're\ninterested in."}),"\n",(0,s.jsx)(n.p,{children:"If you want to build all packages, run the following command at the root:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"yarn build\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Otherwise, you can specify which package to build, e.g. ",(0,s.jsx)(n.code,{children:"@rnx-kit/cli"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"yarn build-scope cli\n"})}),"\n",(0,s.jsx)(n.p,{children:"Alternatively, you can navigate to the package folder and run:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"cd packages/cli\nyarn build --dependencies\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Both the repository level ",(0,s.jsx)(n.code,{children:"build-scope"})," and the package local\n",(0,s.jsx)(n.code,{children:"build --dependencies"})," ensure all dependencies are built before the target\npackage."]}),"\n",(0,s.jsx)(n.p,{children:"Below is a table of commonly used commands and what they do depending on your\ncurrent working directory."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Command"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Repository Level"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Package Level"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"yarn build"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Builds ",(0,s.jsx)(n.strong,{children:"all"})," packages in the repository"]}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Builds the ",(0,s.jsx)(n.strong,{children:"current"})," package only"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"yarn build --dependencies"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"--"}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Builds the ",(0,s.jsx)(n.strong,{children:"current"})," package and its dependencies"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"yarn build-scope"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Builds the ",(0,s.jsx)(n.strong,{children:"specified"})," package and its dependencies"]}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"--"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"yarn format"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Formats ",(0,s.jsx)(n.strong,{children:"all"})," packages in the repository"]}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Formats the ",(0,s.jsx)(n.strong,{children:"current"})," package only"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"yarn lint"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Lints ",(0,s.jsx)(n.strong,{children:"all"})," packages in the repository"]}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Lints the ",(0,s.jsx)(n.strong,{children:"current"})," package only"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"yarn test"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Tests ",(0,s.jsx)(n.strong,{children:"all"})," packages in the repository"]}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Tests the ",(0,s.jsx)(n.strong,{children:"current"})," package only"]})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"adding-a-new-package",children:"Adding a New Package"}),"\n",(0,s.jsx)(n.p,{children:"To ensure that there is consistency and shared practices across the monorepo, we\nhave introduced a small script to easily allow for new packages generation."}),"\n",(0,s.jsx)(n.p,{children:"Simply run"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"yarn new-package <package-name>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["To generate a sample project for you to use; this is based on\n",(0,s.jsx)(n.code,{children:"packages/template"}),". You can pass the extra flag ",(0,s.jsx)(n.code,{children:"--experimental"})," to send the\npackage in the ",(0,s.jsx)(n.code,{children:"incubator"})," folder \u2014 files will be tweaked as necessary."]}),"\n",(0,s.jsx)(n.h2,{id:"change-logs",children:"Change Logs"}),"\n",(0,s.jsx)(n.p,{children:"Each package in this monorepo contains a change log. The log is built from\nchange descriptions submitted with each PR."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"$ yarn change\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This launches ",(0,s.jsx)(n.a,{href:"https://github.com/atlassian/changesets#readme",children:"Changesets"}),",\nwhich collects and records information about your change."]}),"\n",(0,s.jsxs)(n.p,{children:["Follow the prompts and describe the changes you are making to each package. This\ninformation is written in files under ",(0,s.jsx)(n.code,{children:"/.changeset"}),". Our CI loop uses these\nfiles to bump package versions and update package change logs."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Note that you only need one change log entry per feature/fix. You don't need\nto create new entries if you're addressing PR feedback."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"releases",children:"Releases"}),"\n",(0,s.jsxs)(n.p,{children:["Our release process is fully automated by\n",(0,s.jsx)(n.a,{href:"https://github.com/atlassian/changesets#readme",children:"Changesets"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["When a PR is merged, our CI loop uses ",(0,s.jsx)(n.code,{children:"Changesets"})," to version-bump each changed\npackage and publish it to ",(0,s.jsx)(n.code,{children:"npm"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"style-guide",children:"Style Guide"}),"\n",(0,s.jsxs)(n.p,{children:["Most files are formatted with ",(0,s.jsx)(n.a,{href:"https://prettier.io/",children:"Prettier"}),". We also use\n",(0,s.jsx)(n.a,{href:"https://eslint.org/",children:"ESLint"})," to lint all JavaScript code."]}),"\n",(0,s.jsxs)(n.p,{children:["You can trigger formatting by running ",(0,s.jsx)(n.code,{children:"yarn format"}),", and linting with\n",(0,s.jsx)(n.code,{children:"yarn lint"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>l});var s=t(7294);const i={},r=s.createContext(i);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);